{"version":3,"file":"ionic-rating.js","sources":["ionic-rating/lib/ion-rating.component.ts","ionic-rating/lib/ionic-rating.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MA2Ba,kBAAkB;AAAG;AAAQ;AAAqB;AAAQ,IAarE,YAAoB,EAAqB;AAAI,QAAzB,OAAE,GAAF,EAAE,CAAmB;AAAC,QARhC,UAAK,GAAG,IAAI,YAAY,EAAU,CAAC;AAC/C,QAAY,UAAK,GAAG,IAAI,YAAY,EAAU,CAAC;AAC/C,QAAY,eAAU,GAAG,IAAI,YAAY,EAAU,CAAC;AACpD,KAK+C;AAC/C;AACO;AAA0B;AAC3B;AAAQ,IADZ,WAAW,CAAC,OAAsB;AAAI,QACpC,IAAI,OAAO,CAAC,IAAI,EAAE;AACtB,YAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7B,SAAK;AACL,KAAG;AACH;AACO;AAAgB;AAAwB;AAC7B;AAAmB;AAAQ,IADnC,MAAM,CAAC,KAAa,EAAE,cAAc,GAAG,IAAI;AAAI,QACrD,IAAI,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE;AAClE,YAAM,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AACxB,YAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtC,SAAK;AACL,QAAI,IAAI,cAAc,EAAE;AACxB,YAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;AACzB,gBAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACjC,aAAO;AACP,YAAM,IAAI,IAAI,CAAC,SAAS,EAAE;AAC1B,gBAAQ,IAAI,CAAC,SAAS,EAAE,CAAC;AACzB,aAAO;AACP,SAAK;AACL,KAAG;AACH;AACO;AAAuB;AACb;AAAQ,IADvB,OAAO,CAAC,IAAY;AAAI,QACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;AAClE,KAAG;AACH;AACO;AAAwB;AACb;AAAQ,IADxB,YAAY,CAAC,KAAa;AAC5B,QAAI,IAAI,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE;AAC3C,YAAM,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AAC7B,SAAK;AACL,QAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3B,KAAG;AACH;AACO;AAAmB;AAC1B,IAAE,YAAY;AAAK,QACf,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACpC,QAAI,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACvB,KAAG;AACH;AACO;AAAmB;AACpB,IAAJ,MAAM;AAAK,QACT,IAAI,IAAI,CAAC,SAAS,EAAE;AACxB,YAAM,IAAI,CAAC,SAAS,EAAE,CAAC;AACvB,SAAK;AACL,KAAG;AACH;AACO;AAAwB;AACd;AAAQ,IADvB,UAAU,CAAC,KAAU;AAAI,QACvB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AAC9B,QAAI,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;AAC3B,KAAG;AACH;AACO;AAAqB;AAAmB;AAC5C,IADD,gBAAgB,CAAC,EAAuB;AAAI,QAC1C,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACvB,KAAG;AACH;AACO;AAAqB;AACzB;AAAQ,IADT,iBAAiB,CAAC,EAAc;AAAI,QAClC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACxB,KAAG;AACH;AACO;AAA6B;AAC9B;AAAQ,IADZ,gBAAgB,CAAE,UAAmB;AAAI,QACvC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;AAC/B,KAAG;AACH;8CAzFC,SAAS,SAAC,kBACT,QAAQ,EAAE,YAAY,kBACtB;;qJAA0C,kBAE1C,eAAe,EAAE,uBAAuB,CAAC,MAAM;WAC/C,SAAS,EAAE,sBACT,0BACE,OAAO,EAAE,iBAAiB,0BAC1B,WAAW,EAAE,UAAU;;qBAAC,MAAM;CAAkB,EAAC,0BACjD,KAAK,EAAE,IAAI;gBACZ;GACF;;;kVACF;;;;6iBACG;AAAC;AAAmB;AAA4C,YApBlE,iBAAiB;AAClB;AAAG;AAES,mBAkBV,KAAK;AAAK,uBACV,KAAK;AAAK,yBACV,KAAK;AAAK,mBACV,KAAK;AAAK,oBACV,MAAM;AAAK,oBACX,MAAM;AAAK,yBACX,MAAM;AAAK,2BAwCX,YAAY,SAAC,YAAY,EAAE,EAAE;AAC3B,qBAKF,YAAY,SAAC,MAAM,EAAE,EAAE;AACtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAAE;AAAC;AAAC;AAAI;AAEX;AASE;AC5FH,MAaa,iBAAiB;AAAG;6CALhC,QAAQ,SAAC;CACR,OAAO,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,CAAC,kBACjD,OAAO,EAAE,CAAC,kBAAkB,CAAC,kBAC7B,YAAY,EAAE,CAAC,kBAAkB,CAAC,cACnC;;;;;;;;;0BACI;AAAC;AAAC;AACgB","sourcesContent":["import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  forwardRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  HostListener,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ion-rating',\n  templateUrl: './ion-rating.component.html',\n  styleUrls: ['./ion-rating.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => IonRatingComponent),\n      multi: true\n    }\n  ]\n})\nexport class IonRatingComponent implements ControlValueAccessor, OnChanges {\n  @Input() rate: number;\n  @Input() readonly: boolean;\n  @Input() resettable: boolean;\n  @Input() size: boolean;\n  @Output() hover = new EventEmitter<number>();\n  @Output() leave = new EventEmitter<number>();\n  @Output() rateChange = new EventEmitter<number>();\n  hoverRate: number;\n  disabled: boolean;\n  onChange: (_: number) => void;\n  onTouched: () => void;\n\n  constructor(private cd: ChangeDetectorRef) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.rate) {\n      this.update(this.rate);\n    }\n  }\n\n  private update(value: number, internalChange = true): void {\n    if (!(this.readonly || this.disabled || this.rate === value)) {\n      this.rate = value;\n      this.rateChange.emit(this.rate);\n    }\n    if (internalChange) {\n      if (this.onChange) {\n        this.onChange(this.rate);\n      }\n      if (this.onTouched) {\n        this.onTouched();\n      }\n    }\n  }\n\n  onClick(rate: number): void {\n    this.update(this.resettable && this.rate === rate ? 0 : rate);\n  }\n\n  onMouseEnter(value: number) {\n    if (!(this.disabled || this.readonly)) {\n      this.hoverRate = value;\n    }\n    this.hover.emit(value);\n  }\n\n  @HostListener('mouseleave', [])\n  onMouseLeave(): void {\n    this.leave.emit(this.hoverRate);\n    this.hoverRate = 0;\n  }\n\n  @HostListener('blur', [])\n  onBlur(): void {\n    if (this.onTouched) {\n      this.onTouched();\n    }\n  }\n\n  writeValue(value: any): void {\n    this.update(value, false);\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: (_: number) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IonRatingComponent } from './ion-rating.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule],\n  exports: [IonRatingComponent],\n  declarations: [IonRatingComponent]\n})\nexport class IonicRatingModule {}\n"]}